<div id="edit-product" class="m-3" v-cloak>
  <%= product.productTitle %>
    <h3>Edit Product</h3>
    <div class="card col-xl-4 mt-4 shadow-dark p-3 w-100">
      <ajax-form action="editProduct" :form-data="formData" @submitted="editProduct()" :form-errors.sync="formErrors"
        :syncing.sync="syncing" :cloud-error.sync="cloudError">
        <input type="text" class="hidden" id="id" v-model.trim="formData.id" required value="<%= product.id %>"
          aria-required />
        <div class="input-group input-group-outline">
          <label class="form-label">Product Title</label>
          <input type="text" class="form-control" id="productTitle" v-model.trim="formData.productTitle" required
            value="<%= product.productTitle %>" aria-required />
        </div>
        <div class="input-group input-group-outline my-2">
          <label class="form-label">Product Description</label>
          <input type="text" class="form-control" id="productDescription" v-model.trim="formData.productDescription"
            required aria-required />
        </div>
        <div class="input-group input-group-outline my-2">
          <label class="form-label">Product Features</label>
          <input type="text" class="form-control" id="productFeatures" v-model.trim="formData.productFeatures" required
            aria-required />
        </div>
        <div class="input-group input-group-outline my-2">
          <label class="form-label">Service Type</label>
          <select type="text" class="form-control border-radius-md" id="serviceType" v-model.trim="formData.serviceType"
            required aria-required>
            <option value="spotify">Spotify</option>
            <option value="apple">Apple</option>
            <option value="youtube">Youtube</option>
            <option value="shazam">Shazam</option>
            <option value="audiomack">Audiomack</option>
          </select>
        </div>
        <div class="input-group input-group-outline my-2">
          <label class="form-label">Price ($)</label>
          <input type="text" class="form-control" id="price" v-model.trim="formData.price" required aria-required />
        </div>
        <cloud-error v-if="cloudError==='invalid'">Bad Request</cloud-error>
        <cloud-error v-else-if="cloudError"></cloud-error>
        <div class="d-flex align-items-center justify-content-start gap-3">
          <ajax-button type="submit" :syncing="syncing" class="btn btn-primary">Modify Product</ajax-button>
          <a href="/store" class="btn-outline-primary btn">Back to Store</a>
        </div>
      </ajax-form>
    </div>
</div>

<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>